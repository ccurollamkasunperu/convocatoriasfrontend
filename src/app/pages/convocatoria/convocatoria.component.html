<div *ngIf="loading" class="loading-overlay">
  <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
    <span class="sr-only">Cargando...</span>
  </div>
</div>

<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="page-title-box d-sm-flex align-items-center justify-content-between">
        <h4 class="mb-sm-0">{{titulopant}}</h4>
        <div class="page-title-right">
          <ol class="breadcrumb m-0">
            <li class="breadcrumb-item">
              <a href="javascript: void(0);">Inicio</a>
            </li>
            <li class="breadcrumb-item active">{{titulopant}}</li>
          </ol>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-xxl-2 col-md-6">
              <div>
                <label for="cnv_feccnv" class="form-label">FECHA</label>
                <input type="date" class="form-control form-control-sm" id="cnv_feccnv" [(ngModel)]="cnv_feccnv">
              </div>
            </div>
            <div class="col-xxl-2 col-md-6">
              <div>
                <label for="cnv_numero" class="form-label">N° CONVOCATORIA</label>
                <div class="input-group input-group-sm">
                    <span class="input-group-text" id="basic-addon1">#</span>
                    <input type="text" class="form-control" placeholder="00000" id="cnv_numero" [(ngModel)]="cnv_numero" (keypress)="restrictNumeric($event)" [disabled]="inputsDisabled">
                </div>
              </div>
            </div>
            <div class="col-xxl-8 col-md-6">
              <div>
                <label for="cnv_descri" class="form-label">DESCRIPCIÓN</label>
                <div class="input-group input-group-sm">
                    <input type="text" class="form-control mayus" ng-pattern="/^[a-zA-Z]*$/" oninput="this.value = this.value.toUpperCase()" placeholder="Ingrese descripción de convocatoria . . ." id="cnv_descri" [(ngModel)]="cnv_descri">
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xxl-6 col-md-6">
              <div>
                <label for="cnv_fhoini" class="form-label">FECHA Y HORA DE INICIO</label>
                <input type="date" class="form-control form-control-sm" id="cnv_fhoini" [(ngModel)]="cnv_fhoini">
              </div>
            </div>
            <div class="col-xxl-6 col-md-6">
              <div>
                <label for="cnv_fhofin" class="form-label">FECHA Y HORA FIN</label>
                <input type="datetime-local" class="form-control form-control-sm" id="cnv_fhofin" [(ngModel)]="cnv_fhofin">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-3 col-md-12">
              <div>
                <label for="tic_id" class="form-label">TIPO CONVOCATORIA</label>
                <ng-select class="mayus" [(ngModel)]="tic_id">
                    <ng-option value="0">Seleccionar Tipo de Convocatoria</ng-option>
                    <ng-option *ngFor="let item of dataTipoConvocatoria" [value]="item.tic_id">{{item.tic_descri}}</ng-option>
                </ng-select>
              </div>
            </div>
            <div class="col-xl-9 col-md-12">
                <div>
                    <label for="res_id" class="form-label">RESPONSABLE</label>
                    <ng-select class="mayus" [(ngModel)]="res_id">
                        <ng-option value="0">Seleccionar Responsable</ng-option>
                        <ng-option *ngFor="let item of dataResponsable" [value]="item.res_id">{{item.res_nomcom}}</ng-option>
                    </ng-select>
                </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xxl-12 col-md-6">
              <div>
                <label for="cnv_numexp" class="form-label">EXPEDIENTE</label>
                <div class="input-group input-group-sm">
                    <input type="text" class="form-control mayus" ng-pattern="/^[a-zA-Z]*$/" oninput="this.value = this.value.toUpperCase()" placeholder="Ingrese descripción de convocatoria . . ." id="cnv_numexp" [(ngModel)]="cnv_numexp">
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-12 col-md-12">
                <div>
                    <label for="ard_id" class="form-label">AREA</label>
                    <ng-select class="mayus" [(ngModel)]="ard_id">
                        <ng-option value="0">Seleccionar Area Solicitante</ng-option>
                        <ng-option *ngFor="let item of dataArea" [value]="item.ard_id">{{item.ard_descri}}</ng-option>
                    </ng-select>
                </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xxl-12 col-md-6">
              <div>
                <label for="cnv_observ" class="form-label">OBSERVACIONES</label>
                <textarea name="cnv_observ" id="cnv_observ" [(ngModel)]="cnv_observ" class="form-control" ng-pattern="/^[a-zA-Z]*$/" oninput="this.value = this.value.toUpperCase()"></textarea>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xxl-12 col-md-6">
                <p class="text-right d-flex" style="justify-content: end;">
                    <button class="mb-2 mr-2 btn btn-success btn-sm text-white d-flex justify-content-center align-items-center gap-1" id="Grabar" (click)="procesaRegistro()"><i class="ri-save-3-line"></i> {{txtbtn}}</button>
                    <button class="mb-2 mr-2 btn btn-danger btn-sm text-white d-flex justify-content-center align-items-center gap-1" id="Cancelar" [routerLink]="['/convocatorias']"><i class="ri-logout-box-line"></i> Cancelar</button>
                </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
